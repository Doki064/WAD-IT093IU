CREATE TABLE Customer
(
  customerID VARCHAR NOT NULL,
  customerName VARCHAR NOT NULL,
  PRIMARY KEY (customerID)
);

CREATE TABLE Category
(
  categoryID VARCHAR NOT NULL,
  categoryName VARCHAR NOT NULL,
  PRIMARY KEY (categoryID)
);

CREATE TABLE Buyer
(
  buyerID VARCHAR NOT NULL,
  buyerName VARCHAR NOT NULL,
  PRIMARY KEY (buyerID)
);

CREATE TABLE Inventory
(
  inventoryID VARCHAR NOT NULL,
  inventoryName VARCHAR NOT NULL,
  PRIMARY KEY (inventoryID)
);

CREATE TABLE Imports
(
  importDate DATE NOT NULL,
  importID VARCHAR NOT NULL,
  inventoryID VARCHAR NOT NULL,
  buyerID VARCHAR NOT NULL,
  PRIMARY KEY (importID),
  FOREIGN KEY (inventoryID) REFERENCES Inventory(inventoryID),
  FOREIGN KEY (buyerID) REFERENCES Buyer(buyerID)
);

CREATE TABLE Transactions
(
  transactionID VARCHAR NOT NULL,
  transactionDate DATE NOT NULL,
  status VARCHAR NOT NULL,
  customerID VARCHAR NOT NULL,
  inventoryID VARCHAR NOT NULL,
  PRIMARY KEY (transactionID),
  FOREIGN KEY (customerID) REFERENCES Customer(customerID),
  FOREIGN KEY (inventoryID) REFERENCES Inventory(inventoryID)
);

CREATE TABLE Item
(
  itemName VARCHAR NOT NULL,
  itemID VARCHAR NOT NULL,
  quantity INT NOT NULL,
  categoryID VARCHAR NOT NULL,
  inventoryID VARCHAR NOT NULL,
  PRIMARY KEY (itemID),
  FOREIGN KEY (categoryID) REFERENCES Category(categoryID),
  FOREIGN KEY (inventoryID) REFERENCES Inventory(inventoryID)
);

CREATE TABLE TransactionsDetail
(
  transactionAmount INT NOT NULL,
  transactionID VARCHAR NOT NULL,
  itemID VARCHAR NOT NULL,
  PRIMARY KEY (transactionID),
  FOREIGN KEY (transactionID) REFERENCES Transactions(transactionID),
  FOREIGN KEY (itemID) REFERENCES Item(itemID)
);

CREATE TABLE ImportsDetail
(
  importAmount INT NOT NULL,
  itemID VARCHAR NOT NULL,
  importID VARCHAR NOT NULL,
  PRIMARY KEY (itemID, importID),
  FOREIGN KEY (itemID) REFERENCES Item(itemID),
  FOREIGN KEY (importID) REFERENCES Imports(importID)
);
